@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@model PMTs.DataAccess.ModelView.NewProduct.TransactionDataModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

<div class="card card-outline">

    <h4 class="card-header">
        @Localizer["Packing Properties"]
    </h4>

    <div class="card-body">

        <div class="form-group row">

            <label class="col-sm-4 control-label">@Localizer["PalletSize"]<i style="color:red"> *</i></label>
            <div class="col-sm-6">
                @Html.DropDownListFor(m => m.modelProductProp.PalletSize, Model.modelProductProp.PalletList,
             new { @class = "form-control", @required = "true", @onchange = "palletsizewithOverhang()" })
                <span asp-validation-for="modelProductProp.PalletSize" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-4 control-label">@Localizer["PalletOverhang"] </label>
            <div class="col-sm-6">
                <input asp-for="modelProductProp.PalletOverhang" class="form-control mytextboxNumber noscroll" onchange="palletsizewithOverhang()">
            </div>
            <label class="col-sm-2 control-label">mm.</label>
        </div>
        <div class="form-group row">
            <label class="col-sm-4 control-label">@Localizer["PalletAndOverhang"]</label>
            <div class="col-sm-6">
                <input type="text" id="PalletOverhangSum" class="form-control" readonly />
            </div>
        </div>

        <div class="form-group row">
            @*<label asp-for="modelProductProp.Bun" class="col-sm-4 control-label">@Localizer["pieces per bundle"]</label>*@
            <label class="col-sm-4 control-label">@Localizer["Pieces per bundle"]</label>
            <div class="col-sm-6">
                <input asp-for="modelProductProp.Bun" class="form-control mytextboxNumber noscroll" required="" />
                <span asp-validation-for="modelProductProp.Bun" class="text-danger"></span>
                <input asp-for="modelProductProp.BoxPerBundleNoJoint" type="hidden" />
                <input asp-for="modelProductProp.Bun" type="hidden" id="modelProductPropBun" />
            </div>
        </div>

        <div class="form-group row">
            @*<label asp-for="modelProductProp.BunLayer" class="col-sm-4 control-label">มัด / ชั้น</label>*@
            <label class="col-sm-4 control-label">@Localizer["Bundle per layer"]</label>
            <div class="col-sm-6">
                <input asp-for="modelProductProp.BunLayer" class="form-control mytextboxNumber noscroll">
            </div>
        </div>

        <div class="form-group row">
            @*<label asp-for="modelProductProp.LayerPallet" class="col-sm-4 control-label">ชั้น / พาเลท</label>*@
            <label class="col-sm-4 control-label">@Localizer["LayerPallet"]</label>
            <div class="col-sm-6">
                <input asp-for="modelProductProp.LayerPallet" class="form-control mytextboxNumber noscroll">
                <input asp-for="modelProductProp.LayerPerPalletNoJoint" type="hidden" />
                <input asp-for="modelProductProp.LayerPallet" type="hidden" id="modelProductPropLayerPallet" />
            </div>
        </div>

        <div class="form-group row">
            @*<label asp-for="modelProductProp.BoxPalet" class="col-sm-4 control-label">กล่อง / พาเลท</label>*@
            <label class="col-sm-4 control-label">@Localizer["BoxPallet"]</label>
            <div class="col-sm-6">
                <input asp-for="modelProductProp.BoxPalet" class="form-control mytextboxNumber noscroll">
            </div>
        </div>

        @{
            var userSessionModel = PMTs.WebApplication.Extentions.SessionExtentions.GetSession<PMTs.DataAccess.ModelView.Login.UserSessionModel>(Context.Session, "UserSessionModel");

        }
        @if (userSessionModel.BusinessGroup == "Offset")
        {
            <div class="form-group row">
                <label class="col-sm-4 control-label">@Localizer["BoxPacking"]<i style="color:red"> *</i></label>

                <div class="col-sm-6">
                    @if (Model.modelProductProp.BoxPacking is null) {
                         <input asp-for="modelProductProp.BoxPacking" required class="form-control mytextboxNumber noscroll" value="1">
                    }else{
                    <input asp-for="modelProductProp.BoxPacking" required class="form-control mytextboxNumber noscroll">

                    }
                </div>
            </div>
            <input type="hidden" name="BusinessGroup" value="@userSessionModel.BusinessGroup" id="BusinessGroup" />
        }

        @{
            var formGroup = Model.modelCategories.FormGroup;
            //Tassanai Update 02072020
            //if (!formGroup.Contains("RSC"))
            if (formGroup.Contains("DC"))

            {

                @*<button type="button" class="btn btn-danger waves-effect waves-light" style="padding: 5px;" id="btngetPallet" value="Down" onclick="GetPallet()"><i class="fa fa-check"></i></button>
                <button type="button" class="btn btn-warning" onclick="GetPallet()"><i class="fa fa-refresh"></i> GetPicture Pallet</button>*@

                <div class="form-group row">

                    @*<label asp-for="modelProductProp.Leg" class="col-sm-4 control-label">ด้านยาว FG</label>*@
                    <label class="col-sm-4 control-label">@Localizer["Leg"]</label>
                    <div class="col-sm-6">
                        <input asp-for="modelProductProp.Leg" class="form-control mytextboxNumber noscroll">
                    </div>
                </div>
                <div class="form-group row">
                    @*<label asp-for="modelProductProp.Wid" class="col-sm-4 control-label">ด้านกว้าง FG</label>*@
                    <label class="col-sm-4 control-label">@Localizer["Wid"]</label>

                    <div class="col-sm-6">
                        <input asp-for="modelProductProp.Wid" class="form-control mytextboxNumber noscroll">
                    </div>
                </div>

            }

            <div class="form-group row">
                <label class="col-sm-4 control-label"></label>
                <div class="col-sm-6">
                    <button type="button" class="btn btn-warning" onclick="GetPallet()"><i class="fa fa-calculator"></i> @Localizer["PalletCalculate"]</button>
                </div>
            </div>

        }
        <div class="form-group row">
            <label class="col-sm-4 control-label">@Localizer["Picture Pallet"] </label>

            <div class="col-sm-6">
                @*<input id="Pic_Pallet" name="Pic_Pallet" type="file" title="search image" value="" accept="image/*" onchange="show_Pallet(this)" />
                <i id="RM_Drawing" class="fa fa-remove pull-right " style="color:red; display:none;" onclick="test()"></i>*@

                <input asp-for="modelProductProp.PathpalletSuggess" type="hidden" />

                <input asp-for="modelProductProp.PathPallet" type="hidden" />

                <div>
                    <button type="button" class="btn waves-effect waves-light btn-info btn-info" id="btn-choose-pattern-modal">
                        <span class="btn-label"><i class="fa fas fa-indent text-left"></i> </span> @Localizer["Choose Pattern Pallet"]
                    </button>
                </div>

                <div class="modal fade bs-example-modal-lg" id="modal-choose-pattern">
                    <div class="modal-dialog modal-xl" style="width:90%">
                        <div class="modal-content">

                            <div class="modal-header">
                                <h4 class="modal-title" id="myLargeModalLabel">@Localizer["Choose Pattern Pallet"]</h4>
                                <button type="button" class="close" data-dismiss="modal" data-backdrop="false" aria-hidden="true">×</button>
                            </div>
                            <div class="modal-body">

                                <style>
                                    #sizelist .select a img {
                                        border: 2px solid red;
                                        margin: 0px;
                                    }
                                </style>
                                @*<form name="size-form">*@
                                <div id="sizelist" class="row">
                                    @foreach (var item in Model.modelProductProp.StandardPatternNameList)
                                    {

                                        <div class="col-md-2 imgselect" data-value=@item.PatternName><a href="#">@item.PatternName<br /><img src="@item.Picturepath" /></a></div>
                                    }
                                </div>
                            </div>
                            <div class="modal-footer">

                                <button type="button" class="btn btn-danger waves-effect text-left" data-dismiss="modal" data-backdrop="false">@Localizer["OK"]</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @if (string.IsNullOrEmpty(Model.modelProductPicture.Pic_PalletPath) && string.IsNullOrWhiteSpace(Model.modelProductPicture.Pic_PalletPath))
        {
            <center>
                <img id="PicPallet3" style="width: 100px; height: auto;" src="@Url.Content(@Model.modelProductProp.PathpalletSuggess)" />
                @*<input type="text" id="pathpalletSuggess" as-for="model" />*@
                <input asp-for="modelProductProp.PathpalletSuggess" type="hidden" />
            </center>
        }

        <br />
        <div class="form-group row">
            @if (string.IsNullOrEmpty(Model.modelProductPicture.Pic_PalletPath) && string.IsNullOrWhiteSpace(Model.modelProductPicture.Pic_PalletPath))
            {
                <label class="col-sm-4 control-label"></label>
                <div class="col-sm-6">
                    <div class="row justify-content-end">
                        <i id="RM_Pallet" class="fas fa-times" style="color:red; display:none;" onclick="RMPallet()"></i>
                    </div>

                    <center>
                        <img id="PicPallet" style="width: 100px; height: auto;display:none;" />
                    </center>
                </div>
            }
            else
            {
                <label class="col-sm-4 control-label"></label>
                <div class="col-sm-6">
                    <div class="row justify-content-end">
                        <i id="RM_Pallet" class="fas fa-times pull-right " style="color:red; " onclick="RMPallet()"></i>
                    </div>
                    <center>
                        <img id="PicPallet" src="@Url.Content(@Model.modelProductPicture.Pic_PalletPath)" style="width:  100px; height: auto" />
                    </center>
                </div>
            }

            @*<img id="Pic_Pallet" style="width: 100%; height: auto" />*@
        </div>

        @*@Html.TextBoxFor(m => m.modelProductPicture.Pic_PalletPath, new { @id = "iPalletPath", @style = "display:none;" })*@
        @Html.TextBoxFor(m => m.modelProductPicture.Pic_PalletPath, new { @id = "iPalletPath", @style = "display:none;" })

        <div class="form-group row">
            <label class="col-sm-4 control-label">@Localizer["Picture Packaging"]</label>
            <div class="col-sm-6">
                <input id="Pic_FG" name="Pic_FG" type="file" title="search image" accept="image/*" onchange="show_FG(this)" />
            </div>
        </div>
        <div class="form-group row">
            @if (string.IsNullOrEmpty(Model.modelProductPicture.Pic_FGPath) && string.IsNullOrWhiteSpace(Model.modelProductPicture.Pic_FGPath))
            {
                <label class="col-sm-4 control-label"></label>
                <div class="col-sm-6">
                    <div class="row justify-content-end">
                        <i id="RM_FG" class="fas fa-times" style="color:red; display:none;" onclick="RMFG()"></i>
                    </div>

                    <center>
                        <img id="PicFG" style="width: 100px; height: auto;display:none;" />
                    </center>
                </div>
            }
            else
            {
                <label class="col-sm-4 control-label"></label>
                <div class="col-sm-6">
                    <div class="row justify-content-end">
                        <i id="RM_FG" class="fas fa-times pull-right " style="color:red; " onclick="RMFG()"></i>
                    </div>
                    <center>
                        <img id="PicFG" src="@Url.Content(@Model.modelProductPicture.Pic_FGPath)" style="width:  100px; height: auto" />
                    </center>
                </div>
            }
        </div>
        @Html.TextBoxFor(m => m.modelProductPicture.Pic_FGPath, new { @id = "iFGPath", @style = "display:none;" })
    </div>
</div>